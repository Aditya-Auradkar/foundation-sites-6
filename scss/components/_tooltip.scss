// Foundation for Sites by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

////
/// @group tooltip
////

/// Default color of the tooltip background.
/// @type Color
$tooltip-background-color: $black !default;

/// Default color of the tooltip font.
/// @type Color
$tooltip-color: $white;

/// Default padding of the tooltip background.
/// @type Number
$tooltip-padding: 0.75rem !default;

/// Default font size of the tooltip text. By default, we recommend a smaller font size than the body copy.
/// @type Number
$tooltip-font-size: $small-font-size !default;

/// Default pip width for tooltips.
/// @type Number
$tooltip-pip-width: 0.75rem !default;

/// Default pip height for tooltips. This is helpful for calculating the distance of the tooltip from the tooltip word.
/// @type Number
$tooltip-pip-height: $tooltip-pip-width * 0.866 !default;

/// Default pip offset for tooltips. This controls how far the pip is indented from the left edge of the tooltip.
/// @type Number
$tooltip-pip-offset: 1.25rem !default;

/// Default radius for tooltips.
/// @type Number
$tooltip-radius: $global-radius !default;

@mixin has-tip {
  border-bottom: dotted 1px $dark-gray;
  font-weight: bold;
  position: relative;
  display: inline-block;

  &:hover {
    cursor: help;
  }
}

@mixin tooltip {
  background-color: $tooltip-background-color;
  color: $tooltip-color;
  font-size: $tooltip-font-size;
  padding: $tooltip-padding;
  position: absolute;
  z-index: 10;
  top: calc(100% + #{$tooltip-pip-height});
  max-width: 15rem !important;
  white-space: normal;
  // width: auto;
  // height: auto;
  border-radius: $tooltip-radius;
  // transition: opacity .2s linear;
  display: none;


  // opacity: 0;
  // visibility: hidden;

  &[aria-hidden='false'] {
    // opacity: 1;
    display: block;
    // left: -50%
    // margin-left: -50%;
    // margin-right: -50%;
  }
  &::before {
    @include css-triangle($tooltip-pip-width, $tooltip-background-color, up);
    bottom: 100%;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }

  &.is-top {
    transform: translateY(calc(-100% - #{$tooltip-pip-height}));
    &::before {
      @include css-triangle($tooltip-pip-width, $tooltip-background-color, down);
      top: 100%;
      bottom: auto;
    }
  }

  &.is-left {
    top: 0;
    transform: translateX(- #{$tooltip-pip-width});

    &::before {
      @include css-triangle($tooltip-pip-width, $tooltip-background-color, right);
      bottom: auto;
      left: 100%;
      top: 50%;
      transform: translateY(-50%);
    }
  }

  &.is-right {
    top: 0;
    transform: translateX(#{$tooltip-pip-width});

    &::before {
      @include css-triangle($tooltip-pip-width, $tooltip-background-color, left);
      bottom: auto;
      left: auto;
      right: 100%;
      top: 50%;
      transform: translateY(-50%);
    }
  }
}

@mixin foundation-tooltip {
  .has-tip {
    @include has-tip;
  }

  .tooltip {
    @include tooltip;
  }
}
